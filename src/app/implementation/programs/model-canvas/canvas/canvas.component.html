<div class="content">
    <div class="content-top">
        <div class="content-title">
            <svg (click)="handleBack()" class="back" width="20" height="20" viewBox="0 0 20 20"><g><g><path d="M11.41898582107544,5.197227905334473C11.66275582107544,4.952839805334473,12.05846582107544,4.9523174053344725,12.30285582107544,5.196083905334473C12.547245821075439,5.439849905334473,12.54776582107544,5.835560905334472,12.30399582107544,6.079948905334472L8.39293582107544,9.999858905334474L12.305525821075438,13.950818905334472C12.521455821075438,14.168798905334473,12.54392582107544,14.505678905334472,12.37403582107544,14.748468905334473L12.301325821075439,14.834678905334473C12.05609582107544,15.077588905334473,11.66038582107544,15.075688905334472,11.417465821075439,14.830478905334473L7.067637821075439,10.439388905334472C6.825746221075439,10.195198905334472,6.826430921075439,9.801468905334474,7.069163821075439,9.558118905334473L11.41898582107544,5.197227905334473Z" fill="#1D1C33" fill-opacity="1"/></g></g></svg>
            <span>{{ title }}</span>
            <i *ngIf="canOperate" (click)="handleEdit()" class="edit" nz-icon nzType="edit" nzTheme="outline"></i>
        </div>
        <div class="content-options">
            <label nz-checkbox [(ngModel)]="canvasService.showModelQuote" (ngModelChange)="initTreeData()">显示模型引用</label>
            <button *ngIf="!!data?.id" nz-button nzType="default" [nzLoading]="deleteLoading" (click)="handleDelete()">删除</button>
            <button *ngIf="canOperate" nz-button nzType="default" [nzLoading]="saveLoading" (click)="handleSave(SaveTypeEnum.SAVE)">保存</button>
            <button *ngIf="canOperate" nz-button nzType="primary" [nzLoading]="saveDraftLoading" (click)="handleSave(SaveTypeEnum.SAVE_DRAFT)">保存草稿</button>
        </div>
    </div>
    <div class="btn-layout" (click)="autoLayout()">
        <i nz-icon>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g><g><path d="M3.00347693359375,10.50347693359375C2.45119393359375,10.50347693359375,2.00347900359375,10.05576693359375,2.00347900359375,9.503476933593749L2.00347900359375,6.50347693359375C2.00347900359375,5.951196933593749,2.45119393359375,5.50347693359375,3.00347693359375,5.50347693359375L6.00347693359375,5.50347693359375C6.55576693359375,5.50347693359375,7.00347693359375,5.951196933593749,7.00347693359375,6.50347693359375L7.00347693359375,7.50347693359375L7.49691693359375,7.50347693359375L7.49691693359375,4.50347693359375C7.49691693359375,4.22733693359375,7.72077693359375,4.00347693359375,7.99691693359375,4.00347693359375L8.99691693359375,4.00347693359375L8.99691693359375,3.00347693359375C8.99691693359375,2.45119393359375,9.444636933593749,2.00347900359375,9.99691693359375,2.00347900359375L12.99695693359375,2.00347900359375C13.54915693359375,2.00347900359375,13.99695693359375,2.45119393359375,13.99695693359375,3.00347693359375L13.99695693359375,6.00347693359375C13.99695693359375,6.55576693359375,13.54915693359375,7.00347693359375,12.99695693359375,7.00347693359375L9.99691693359375,7.00347693359375C9.444636933593749,7.00347693359375,8.99691693359375,6.55576693359375,8.99691693359375,6.00347693359375L8.99691693359375,5.00347693359375L8.49691693359375,5.00347693359375L8.49691693359375,11.00347693359375L8.99691693359375,11.00347693359375L8.99691693359375,10.00347693359375C8.99691693359375,9.45119693359375,9.444636933593749,9.003476933593749,9.99691693359375,9.003476933593749L12.99695693359375,9.003476933593749C13.54915693359375,9.003476933593749,13.99695693359375,9.45119693359375,13.99695693359375,10.00347693359375L13.99695693359375,13.00345693359375C13.99695693359375,13.55575693359375,13.54915693359375,14.00345693359375,12.99695693359375,14.00345693359375L9.99691693359375,14.00345693359375C9.444636933593749,14.00345693359375,8.99691693359375,13.55575693359375,8.99691693359375,13.00345693359375L8.99691693359375,12.00345693359375L7.99691693359375,12.00345693359375C7.72077693359375,12.00345693359375,7.49691693359375,11.77961693359375,7.49691693359375,11.50347693359375L7.49691693359375,8.503476933593749L7.00347693359375,8.503476933593749L7.00347693359375,9.503476933593749C7.00347693359375,10.05576693359375,6.55576693359375,10.50347693359375,6.00347693359375,10.50347693359375L3.00347693359375,10.50347693359375ZM3.00347693359375,6.50347693359375L3.00347693359375,9.503476933593749L6.00347693359375,9.503476933593749L6.00347693359375,6.50347693359375L3.00347693359375,6.50347693359375ZM12.99695693359375,3.00347693359375L9.99691693359375,3.00347693359375L9.99691693359375,6.00347693359375L12.99695693359375,6.00347693359375L12.99695693359375,3.00347693359375ZM12.99695693359375,10.00347693359375L9.99691693359375,10.00347693359375L9.99691693359375,13.00345693359375L12.99695693359375,13.00345693359375L12.99695693359375,10.00347693359375Z" fill-rule="evenodd" fill="#4D4C66" fill-opacity="1"/></g></g></svg>
        </i>
        <span>自动布局</span>
    </div>
    <div class="content-canvas" #container></div>

    <app-model-edit *ngIf="showModelEdit" [data]="data" (visibleChange)="handleEdit($event)"></app-model-edit>
    <app-canvas-add-node></app-canvas-add-node>
    <app-canvas-add-relation></app-canvas-add-relation>
</div>
